# LLM Provider Keys (configure at least one, leave others empty)
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=
OPENAI_API_KEY=

# Database — choose one: sqlite, postgres, or bigquery
PRIMARY_DB_TYPE=sqlite
SQLITE_URL=sqlite+aiosqlite:///./chinook.db
# SQLITE_METADATA_PATH=          # Optional JSON metadata file for SQLite table/column descriptions

# PostgreSQL (uncomment and set PRIMARY_DB_TYPE=postgres to use)
# POSTGRES_URL=postgresql+asyncpg://user:pass@localhost:5432/mydb

# BigQuery (uncomment and set PRIMARY_DB_TYPE=bigquery to use)
# BIGQUERY_PROJECT=my-gcp-project
# BIGQUERY_DATASET=my_dataset
# BIGQUERY_CREDENTIALS_PATH=/path/to/service-account.json

# LLM Models (fallback order: default → secondary → fallback)
DEFAULT_MODEL=claude-opus-4-6
SECONDARY_MODEL=gemini-3-pro-preview
FALLBACK_MODEL=gpt-4o
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.0

# Schema
SCHEMA_CACHE_TTL_SECONDS=3600
SCHEMA_SELECTION_MODE=none        # none | keyword | llm
SCHEMA_MAX_SELECTED_TABLES=15
# SCHEMA_INCLUDE_TABLES=          # Comma-separated list of tables to include
# SCHEMA_EXCLUDE_TABLES=          # Comma-separated list of tables to exclude

# Context window management
CONTEXT_MAX_TOKENS=16000
CONTEXT_SCHEMA_BUDGET_PCT=0.6
CONTEXT_HISTORY_MAX_MESSAGES=10

# Storage
STORAGE_TYPE=memory               # memory | sqlite (persistent)
STORAGE_SQLITE_PATH=./pipeline.db

# Cache
CACHE_ENABLED=true
CACHE_TTL_SECONDS=86400

# Pipeline
MAX_CORRECTION_ATTEMPTS=2
ANALYTICAL_MAX_PLAN_STEPS=7
ANALYTICAL_MAX_SYNTHESIS_ATTEMPTS=1

# Reliability
DB_QUERY_TIMEOUT_SECONDS=30
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_MIN_WAIT_SECONDS=2
LLM_RETRY_MAX_WAIT_SECONDS=10
RATE_LIMIT_REQUESTS_PER_MINUTE=20

# Sessions
SESSION_TIMEOUT_SECONDS=3600

# LangSmith tracing (optional)
# LANGSMITH_API_KEY=
# LANGSMITH_TRACING=true
# LANGSMITH_PROJECT=text-to-sql

# App
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO
